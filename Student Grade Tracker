import java.util.ArrayList;
import java.util.Scanner;

public class StudentGradeTracker {
    static class Student {
        String name;
        double grade;
        
        public Student(String name, double grade) {
            this.name = name;
            this.grade = grade;
        }
    }
    
    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);
        ArrayList<Student> students = new ArrayList<>();
        int choice;
        
        System.out.println("=== STUDENT GRADE TRACKER ===");
        
        do {
            System.out.println("\n--- Main Menu ---");
            System.out.println("1. Add Student and Grade");
            System.out.println("2. View All Students and Grades");
            System.out.println("3. Calculate Statistics");
            System.out.println("4. Display Summary Report");
            System.out.println("5. Exit");
            System.out.print("Enter your choice: ");
            
            try {
                choice = Integer.parseInt(scanner.nextLine());
            } catch (NumberFormatException e) {
                System.out.println("Invalid input. Please enter a number between 1-5.");
                choice = 0;
                continue;
            }
            
            switch(choice) {
                case 1:
                    addStudent(scanner, students);
                    break;
                case 2:
                    viewStudents(students);
                    break;
                case 3:
                    calculateStatistics(students);
                    break;
                case 4:
                    displaySummary(students);
                    break;
                case 5:
                    System.out.println("Exiting program. Goodbye!");
                    break;
                default:
                    System.out.println("Invalid choice. Please select 1-5.");
            }
        } while(choice != 5);
        
        scanner.close();
    }

    private static void addStudent(Scanner scanner, ArrayList<Student> students) {
        System.out.println("\n--- Add New Student ---");
        
        System.out.print("Enter student name: ");
        String name = scanner.nextLine();
        
        double grade = -1;
        while (grade < 0 || grade > 100) {
            System.out.print("Enter student grade (0-100): ");
            try {
                grade = Double.parseDouble(scanner.nextLine());
                if (grade < 0 || grade > 100) {
                    System.out.println("Grade must be between 0 and 100. Please try again.");
                }
            } catch (NumberFormatException e) {
                System.out.println("Invalid input. Please enter a number between 0-100.");
            }
        }
        
        students.add(new Student(name, grade));
        System.out.println("Student added successfully!");
    }
    
    private static void viewStudents(ArrayList<Student> students) {
        System.out.println("\n--- All Students ---");
        
        if (students.isEmpty()) {
            System.out.println("No students in the system.");
            return;
        }
        
        System.out.printf("%-20s %-10s%n", "Student Name", "Grade");
        System.out.println("-------------------- ----------");
        for (Student student : students) {
            System.out.printf("%-20s %-10.2f%n", student.name, student.grade);
        }
    }
    
    private static void calculateStatistics(ArrayList<Student> students) {
        System.out.println("\n--- Grade Statistics ---");
        
        if (students.isEmpty()) {
            System.out.println("No students in the system.");
            return;
        }
        
        double sum = 0;
        double highest = students.get(0).grade;
        double lowest = students.get(0).grade;
        
        for (Student student : students) {
            sum += student.grade;
            
            if (student.grade > highest) {
                highest = student.grade;
            }
            
            if (student.grade < lowest) {
                lowest = student.grade;
            }
        }
        
        double average = sum / students.size();
        
        System.out.printf("Average grade: %.2f%n", average);
        System.out.printf("Highest grade: %.2f%n", highest);
        System.out.printf("Lowest grade: %.2f%n", lowest);
    }
    

    private static void displaySummary(ArrayList<Student> students) {
        System.out.println("\n--- Student Grade Summary Report ---");
        
        if (students.isEmpty()) {
            System.out.println("No students in the system.");
            return;
        }
        

        viewStudents(students);
        
        calculateStatistics(students);
        
        int excellent = 0, good = 0, average = 0, poor = 0, fail = 0;
        
        for (Student student : students) {
            if (student.grade >= 90) excellent++;
            else if (student.grade >= 80) good++;
            else if (student.grade >= 70) average++;
            else if (student.grade >= 60) poor++;
            else fail++;
        }
        
        System.out.println("\n--- Grade Distribution ---");
        System.out.println("Excellent (90-100): " + excellent + " student(s)");
        System.out.println("Good (80-89): " + good + " student(s)");
        System.out.println("Average (70-79): " + average + " student(s)");
        System.out.println("Poor (60-69): " + poor + " student(s)");
        System.out.println("Fail (0-59): " + fail + " student(s)");
    }
}
